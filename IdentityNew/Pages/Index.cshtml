@page
@using IdentityNew.Authorization

@model IndexModel
@{
    ViewData["Title"] = "Home page";
}

<head>
    https://github.com/ZengaOO/IdentityNew/commit/3dc502fcf0b20e63c905c15ea705e3d0c796dd8b
</head>

<div class="text-center mb-5">
    <h1 class="display-4">Welcome</h1>
   <p>This is our Invoise Management System</p>
   </div>

   @if(User.IsInRole(Constants.InvoiceAdminRole))
{
 <div>
    <canvas id="myChart"></canvas>
</div>
  
}


@section Scripts {

    <script>

        const labels = [
        'January',
        'February',
        'March'
        'April',
        'May',
        'June',
        'Juli',
        'August',
        'September',
        'October',
        'November',
        'December'

        ];

        const data = {
            labels: labels,
            datasets: [
                {
                    label: "Revenue Submitted",
                    backgroundColor: "rgb(0,0,0)",
                    borderColor: "rgb(0,0,0)",
                    cubicInterpolationMode: "monotone",
                    data: @Json.Serialize(Model.revenueSubmitted)

                },

                 label: "Revenue Approved",
                    backgroundColor: "rgb(132,255,99)",
                    borderColor: "rgb(132,255,99)",
                     cubicInterpolationMode: "monotone",
                    data: @Json.Serialize(Model.revenueApproved)
                    
                },

                 label: "Revenue Rejected",
                    backgroundColor: "rgb(255,99,132)",
                    borderColor: "rgb(255,99,132)",
                     cubicInterpolationMode: "monotone",
                    data: @Json.Serialize(Model.revenueRejected)
                   
                }
            ]
        };

        const config = {
            type: 'line',
            data: data,
            options: { }
        };

        const myChart = new myChart(
            document.getElementById('myChart'),
            config

        );


    </script>
}
